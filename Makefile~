

CFLAGS=-std=c99 -Wall -static  -L. 
CLIBS=-losmpbf -lpthread  -lz  -lprotobuf-c 
CCFLAGS=-I. 

all: benchmarking


test: test_voronoi voronoi.c
	./test_voronoi

test_voronoi: test_voronoi.c doubly_connected_edge_list.c 
	$(CC) $(CFLAGS) -o $@ $^

libosmpbf.a: fileformat.pb-c.o osmformat.pb-c.o
	$(AR) -cr $@ $^


benchmarking: benchmarking.c libosmpbf.a
	$(CC) $(CFLAGS) $< $(CLIBS)  -o $@

clean:
	rm benchmarking *.o